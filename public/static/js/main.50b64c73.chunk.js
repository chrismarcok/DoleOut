(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{37:function(e){e.exports=JSON.parse('[{"id":0,"username":"admin","password":"admin","picUrl":"https://api.adorable.io/avatars/200/0","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"e-transfer","description":"send me money please thank u :)"},{"id":1,"username":"user","password":"user","picUrl":"https://api.adorable.io/avatars/200/1","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":2,"username":"billy","password":"123","picUrl":"https://api.adorable.io/avatars/200/2","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":3,"username":"joe","password":"123","picUrl":"https://api.adorable.io/avatars/200/3","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":4,"username":"alfred","password":"123","picUrl":"https://api.adorable.io/avatars/200/4","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":5,"username":"sam","password":"123","picUrl":"https://api.adorable.io/avatars/200/5","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":6,"username":"alice","password":"123","picUrl":"https://api.adorable.io/avatars/200/6","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":7,"username":"emma","password":"123","picUrl":"https://api.adorable.io/avatars/200/7","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":8,"username":"anne","password":"123","picUrl":"https://api.adorable.io/avatars/200/8","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":9,"username":"joey","password":"123","picUrl":"https://api.adorable.io/avatars/200/9","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":10,"username":"bob","password":"123","picUrl":"https://api.adorable.io/avatars/200/10","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":11,"username":"timmy","password":"123","picUrl":"https://api.adorable.io/avatars/200/11","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":12,"username":"george","password":"123","picUrl":"https://api.adorable.io/avatars/200/12","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":13,"username":"margret","password":"123","picUrl":"https://api.adorable.io/avatars/200/13","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":14,"username":"jen","password":"123","picUrl":"https://api.adorable.io/avatars/200/14","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":15,"username":"paul","password":"123","picUrl":"https://api.adorable.io/avatars/200/15","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":16,"username":"rick","password":"123","picUrl":"https://api.adorable.io/avatars/200/16","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":17,"username":"donald","password":"123","picUrl":"https://api.adorable.io/avatars/200/17","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"im kinda epic....... xD"},{"id":18,"username":"daniel","password":"123","picUrl":"https://api.adorable.io/avatars/200/18","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},{"id":19,"username":"grace","password":"123","picUrl":"https://api.adorable.io/avatars/200/19","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"}]')},38:function(e){e.exports=JSON.parse("[]")},39:function(e){e.exports=JSON.parse('[{"id":0,"groupId":0,"date":0,"type":"msg","expense":{},"user":{"id":17,"username":"donald","password":"123","picUrl":"https://api.adorable.io/avatars/200/17","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname"},"content":"hey bad boys"},{"id":1,"groupId":0,"date":1,"type":"msg","expense":{},"user":{"id":17,"username":"donald","password":"123","picUrl":"https://api.adorable.io/avatars/200/17","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname"},"content":"thinkin about makin an expense later ;)"},{"id":2,"groupId":0,"date":123,"type":"msg","expense":{},"user":{"id":16,"username":"rick","password":"123","picUrl":"https://api.adorable.io/avatars/200/16","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname"},"content":"stop posting cringe"},{"id":3,"groupId":0,"date":1000,"type":"msg","expense":{},"user":{"id":17,"username":"donald","password":"123","picUrl":"https://api.adorable.io/avatars/200/17","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname"},"content":"ahah"},{"id":4,"groupId":0,"date":10001,"type":"msg","expense":{},"user":{"id":19,"username":"grace","password":"123","picUrl":"https://api.adorable.io/avatars/200/19","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname"},"content":"@george did u buy tp"},{"id":5,"groupId":0,"date":103,"type":"expense","expense":{"id":0,"title":"Toilet Paper","cost":9.99,"remaining":2.5,"members":[{"id":12,"username":"george","password":"123","picUrl":"https://api.adorable.io/avatars/200/12","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paid":true},{"id":19,"username":"grace","password":"123","picUrl":"https://api.adorable.io/avatars/200/19","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paid":true},{"id":17,"username":"donald","password":"123","picUrl":"https://api.adorable.io/avatars/200/17","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paid":true},{"id":1,"username":"user","password":"user","picUrl":"https://api.adorable.io/avatars/200/1","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paid":false}]},"user":{"id":12,"username":"george","password":"123","picUrl":"https://api.adorable.io/avatars/200/12","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},"content":"pay me back pls"},{"id":6,"groupId":0,"date":10001,"type":"msg","expense":{},"user":{"id":17,"username":"donald","password":"123","picUrl":"https://api.adorable.io/avatars/200/17","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname"},"content":"what the heck i don\'t use tp!!"},{"id":7,"groupId":0,"date":10001,"type":"msg","expense":{},"user":{"id":19,"username":"grace","password":"123","picUrl":"https://api.adorable.io/avatars/200/19","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname"},"content":"ok will pay soon"},{"id":8,"groupId":0,"date":104,"type":"expense","expense":{"id":1,"title":"Bread","cost":3.49,"remaining":2.79,"members":[{"id":16,"username":"rick","password":"123","picUrl":"https://api.adorable.io/avatars/200/16","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paid":true},{"id":19,"username":"grace","password":"123","picUrl":"https://api.adorable.io/avatars/200/19","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paid":false},{"id":17,"username":"donald","password":"123","picUrl":"https://api.adorable.io/avatars/200/17","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paid":false},{"id":18,"username":"daniel","password":"123","picUrl":"https://api.adorable.io/avatars/200/18","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paid":false}]},"user":{"id":16,"username":"rick","password":"123","picUrl":"https://api.adorable.io/avatars/200/16","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname","paypal":"https://www.paypal.me/chrismarcok","preference":"paypal","description":"send me money please thank u :)"},"content":"eyo i needed bread"},{"id":9,"groupId":6,"date":10000000000,"type":"msg","expense":{},"user":{"id":19,"username":"grace","password":"123","picUrl":"https://api.adorable.io/avatars/200/19","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname"},"content":"donald has been demoted to vice-bootlicker"},{"id":10,"groupId":6,"date":100000001000,"type":"msg","expense":{},"user":{"id":17,"username":"donald","password":"123","picUrl":"https://api.adorable.io/avatars/200/17","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname"},"content":"as you command it"},{"id":11,"groupId":0,"date":696969420,"type":"msg","expense":{},"user":{"id":17,"username":"donald","password":"123","picUrl":"https://api.adorable.io/avatars/200/17","email":"dummy@dummy.com","firstName":"Firstname","lastName":"McLastname"},"content":"EW ITS WHOLE GRAIN WTF!!!!!"}]')},43:function(e,t,a){e.exports=a(86)},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),i=a.n(s),o=a(1),l=a(2),c=a(4),m=a(3),p=a(5),u=a(18),d=a(15),h=(a(48),a(49),a(50),a(51),a(52),a(53),a(8)),g=a.n(h),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={user:void 0,loggedIn:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/api/me").then((function(t){console.log("".concat(t.data.displayName," is logged in")),e.setState({user:t.data,loggedIn:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"headerbox"},r.a.createElement("a",{href:"/"},r.a.createElement("div",{className:"header-logo"})),r.a.createElement("ul",{className:"header-left-ul"},r.a.createElement("a",{href:"/"},r.a.createElement("li",{className:"header-li"},r.a.createElement("div",{className:"li-content"},"Home ",r.a.createElement("i",{className:"fa fa-home"})))),r.a.createElement("a",{href:"/groups",id:"header-group-link"},r.a.createElement("li",{className:"header-li"},r.a.createElement("div",{className:"li-content"},"Groups ",r.a.createElement("i",{className:"fa fa-users"}))))),r.a.createElement("ul",{className:"header-right-ul"},this.state.loggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"/u/"+this.state.user._id,id:"header-profile"},r.a.createElement("li",{className:"header-li"},r.a.createElement("div",{className:"li-content"},r.a.createElement("span",{className:"header-username"},"My Profile")," ",r.a.createElement("i",{className:"fa fa-user"})))),r.a.createElement("a",{href:"/logout",id:"header-logout"},r.a.createElement("li",{className:"header-li"},r.a.createElement("div",{className:"li-content"},r.a.createElement("span",{className:"header-username"},"Logout")," ",r.a.createElement("i",{className:"fa fa-sign-out"}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"/register",id:"header-register"},r.a.createElement("li",{className:"header-li"},r.a.createElement("div",{className:"li-content"},"Register ",r.a.createElement("i",{className:"fa fa-user-plus"})))),r.a.createElement("a",{href:"/login",id:"header-login"},r.a.createElement("li",{className:"header-li"},r.a.createElement("div",{className:"li-content"},"Login ",r.a.createElement("i",{className:"fa fa-sign-in"}))))))))}}]),t}(r.a.Component),b=a(6),f=a(36),v={handleInputChange:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(f.a)({},n,a))}},E=a(71),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={name:a.props.name,hover:!1,editHover:!1,deleteHover:!1,members:[],loading:!0,canEdit:!1},a.hoverOn=a.hoverOn.bind(Object(b.a)(a)),a.hoverOff=a.hoverOff.bind(Object(b.a)(a)),a.hide=a.hide.bind(Object(b.a)(a)),a.edit=a.edit.bind(Object(b.a)(a)),a.confirm=a.confirm.bind(Object(b.a)(a)),a.redirect=a.redirect.bind(Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.querySelector("#icon"+this.props.id).className="group-icon fa fa-"+this.props.icon,document.querySelector(".group-div-id-"+this.props.id).style.backgroundColor=this.props.colorBg,E(this.props.colorBg).isDark()?document.querySelector(".group-div-id-"+this.props.id).style.color="white":document.querySelector(".group-div-id-"+this.props.id).style.color="black";for(var t=[],a=0;a<this.props.members.length;a++)t.push(g.a.get("/api/u/"+this.props.members[a]));Promise.all(t).then((function(t){var a=[];t.forEach((function(e){a.push(e.data.displayName)})),e.setState({members:a,loading:!1})})).catch((function(e){return console.log(e)})),g.a.get("/api/me").then((function(t){var a=t.data;console.log(a),console.log(e.props.superusers),(e.props.superusers.includes(a._id)||a.isAdmin)&&e.setState({canEdit:!0})})).catch((function(e){console.log(e)}))}},{key:"stringifyMembers",value:function(e){if(0===e.length)return"No members.";for(var t="",a=0;a<e.length;a++)t+=e[a]+", ";return t.substring(0,t.length-2)}},{key:"hoverOn",value:function(){var e=document.querySelector(".group-div-id-"+this.props.id);E(this.props.colorBg).isDark()?e.style.backgroundColor=E(this.props.colorBg).lighten(.1).hsl().string():e.style.backgroundColor=E(this.props.colorBg).darken(.1).hsl().string(),this.setState({hover:!0})}},{key:"hoverOff",value:function(){document.querySelector(".group-div-id-"+this.props.id).style.backgroundColor=this.props.colorBg,this.setState({hover:!1})}},{key:"redirect",value:function(e){e.target.classList.contains("fa")||e.target.classList.contains("group-comp-input")||(this.props.admin?window.location="/g/"+this.props.id+"/admin":window.location="/g/"+this.props.id)}},{key:"hide",value:function(){document.querySelector(".group-div-id-"+this.props.id).style.display="none",g.a.delete("/g/".concat(this.props.id)).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},{key:"edit",value:function(){document.querySelector("#group-name-id-"+this.props.id).style.display="none",document.querySelector("#group-comp-input-id-"+this.props.id).style.display="inline-block";var e=document.querySelector("#group-i-edit-"+this.props.id);e.style.display="none",document.querySelector("#group-i-check-"+this.props.id).style.display="inline-block"}},{key:"confirm",value:function(){document.querySelector("#group-name-id-"+this.props.id).style.display="inline-block";var e=document.querySelector("#group-comp-input-id-"+this.props.id);e.style.display="none",this.setState({name:e.value}),document.querySelector("#group-i-edit-"+this.props.id).style.display="inline-block",document.querySelector("#group-i-check-"+this.props.id).style.display="none",g.a.patch("/g/".concat(this.props.id),JSON.stringify({name:e.value,memberIDs:this.props.members}),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"group-div group-div-id-"+this.props.id,onMouseEnter:this.hoverOn,onMouseLeave:this.hoverOff,onClick:this.redirect},r.a.createElement("h1",{className:"grouppage-title"},r.a.createElement("i",{id:"icon"+this.props.id})," ",r.a.createElement("span",{className:"group-name",id:"group-name-id-"+this.props.id},this.state.name)," ",r.a.createElement("input",{className:"group-comp-input",id:"group-comp-input-id-"+this.props.id,type:"text",name:"title",defaultValue:this.state.name,onChange:v.handleInputChange.bind(this)})),this.state.canEdit?r.a.createElement("div",{className:"group-div-change-btns"},r.a.createElement("i",{className:"fa fa-check",id:"group-i-check-"+this.props.id,style:{display:"none"},onClick:this.confirm}),r.a.createElement("i",{className:"fa fa-edit",id:"group-i-edit-"+this.props.id,onClick:this.edit}),r.a.createElement("i",{className:"fa fa-trash",id:"group-i-trash-"+this.props.id,onClick:this.hide})):null,r.a.createElement("h3",null,"Members: ",this.state.loading?r.a.createElement("span",null,"Loading..."):this.stringifyMembers(this.state.members)))}}]),t}(r.a.Component),w=(a(77),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={loading:!1,indicator:"?"},a.checkValid=a.checkValid.bind(Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"checkValid",value:function(e){var t=this;this.setState({loading:!0});var a=document.querySelector("#groupMembersInput-"+e).value,n=document.querySelector(".new-member-confirmation-"+e);if(0===a.length)return this.setState({indicator:"?",loading:!1}),void(n.style.color="black");g.a.get("/api/exists/"+a).then((function(e){200===e.status&&(t.setState({indicator:"valid"}),n.style.color="green")})).catch((function(e){console.log(e),t.setState({indicator:"invalid"}),n.style.color="red"})).finally((function(){t.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.num-1;return r.a.createElement("div",{className:"new-group-member-row new-group-member-row-"+t},r.a.createElement("p",null,"Member ",this.props.num),r.a.createElement("input",{className:"group-member-input-field",id:"groupMembersInput-"+t,type:"text",name:"groupMembers",placeholder:"Enter Username",maxLength:"20",onChange:function(){return e.checkValid(t)}}),r.a.createElement("div",{className:"new-member-confirmation new-member-confirmation-"+t},this.state.loading?"loading...":this.state.indicator),r.a.createElement("span",{className:"new-member-row-btn",onClick:this.props.newRow}," New Row "))}}]),t}(r.a.Component)),k=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"icon-container",id:"icon-choice-"+this.props.iconName},r.a.createElement("i",{className:"fa fa-"+this.props.iconName}))}}]),t}(r.a.Component),x=a(7),C=a(78),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={users:void 0,title:"",groupIcon:"",groupMembers:"",groupColor:"#eee",pickerOpen:!1,selectColorTxt:"Select Color",iconLst:["user","user-secret","user-md","user-circle","blind","child","male","female","wheelchair","mouse-pointer"],icon:void 0,numMembers:1},a.selectColor=a.selectColor.bind(Object(b.a)(a)),a.newRow=a.newRow.bind(Object(b.a)(a)),a.getMembers=a.getMembers.bind(Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/api/users").then((function(t){e.setState({users:t.data})})).catch((function(e){return console.log(e)})),C.from(".picker").on("change",(function(t,a){document.querySelector(".color-preview").style.backgroundColor=a,e.setState({groupColor:String(a)})}))}},{key:"selectColor",value:function(e){e.preventDefault(),this.state.pickerOpen?(document.querySelector(".picker").style.display="none",this.setState({pickerOpen:!1,selectColorTxt:"Select Color"})):(document.querySelector(".picker").style.display="block",this.setState({pickerOpen:!0,selectColorTxt:"Confirm Color"}))}},{key:"getMembers",value:function(e){for(var t=document.querySelectorAll(".group-member-input-field"),a=this.state.users,n=this.state.numMembers,r=[e],s=function(e){var n=a.filter((function(a){return a.displayName===t[e].value}));if(0===n.length||r.includes(n[0]._id))return"continue";r.push(n[0]._id)},i=0;i<n;i++)s(i);return r}},{key:"selectIcon",value:function(e){if(""!==this.state.groupIcon){var t=this.state.groupIcon;document.querySelector("#icon-choice-"+t).className="icon-container"}this.setState({groupIcon:e}),document.querySelector("#icon-choice-"+e).className="icon-container icon-selected"}},{key:"close",value:function(e,t){"popup-close-btn"===e.target.className&&t()}},{key:"createGroup",value:function(){var e=this;""!==this.state.title&&""!==this.state.groupIcon?g.a.get("/api/me").then((function(t){if(200===t.status){var a={name:e.state.title,icon:e.state.groupIcon,colorBg:e.state.groupColor,members:e.getMembers(t.data._id),superusers:[t.data._id]};console.log("Making POST req"),g.a.post("/groups",JSON.stringify(a),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(t){console.log("posted group!"),a._id=t.data,e.props.addGroup(a)})).catch((function(e){console.log("err posting group")})),e.props.closePopup()}else console.log("there is nobody logged in. nothing happened"),alert("Can't make a group if there is nobody logged in...")})).catch((function(e){return console.log(e)})):alert("Please fill out all fields!")}},{key:"newRow",value:function(){var e=document.createElement("div");e.className="new-group-member-row-"+this.state.numMembers,document.querySelector(".new-group-members-container").appendChild(e),i.a.render(r.a.createElement(w,{newRow:this.newRow,num:this.state.numMembers+1,groupId:-1}),document.querySelector(".new-group-member-row-"+this.state.numMembers)),this.setState({numMembers:this.state.numMembers+1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"popup",id:"new_group_popup"},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("h1",null,"Create New Group"),r.a.createElement("form",{className:"new-group-form"},r.a.createElement("h3",null," Group Title "),r.a.createElement("input",{id:"groupTitleInput",type:"text",name:"title",placeholder:"Title",onChange:v.handleInputChange.bind(this)}),r.a.createElement("h3",null," Members "),r.a.createElement("div",{className:"new-group-members-container"},r.a.createElement(w,{newRow:this.newRow,num:1,groupId:-1})),r.a.createElement("h3",null," Color ",r.a.createElement("div",{className:"color-preview"})," "),r.a.createElement("button",{onClick:this.selectColor},this.state.selectColorTxt),r.a.createElement("div",{className:"picker","acp-show-hex":"no","acp-show-rgb":"no","acp-show-hsl":"no","acp-palette":"PALETTE_MATERIAL_CHROME"}),r.a.createElement("h3",null," Icon "),this.state.iconLst.map((function(t){return r.a.createElement("span",{onClick:function(){return e.selectIcon(t)},key:Object(x.a)(t)},r.a.createElement(k,{iconName:t}))}))),r.a.createElement("div",{className:"popup-btn-container"},r.a.createElement("button",{className:"popup-create-btn",onClick:function(){return e.createGroup()}}," Create Group ",r.a.createElement("i",{className:"fa fa-users"})),r.a.createElement("button",{className:"popup-close-btn",onClick:function(t){return e.close(t,e.props.closePopup)}}," Close"))))}}]),t}(r.a.Component),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).createGroup=function(e){var t=document.createElement("div");t.className="new-group-"+e._id,document.querySelector(".new-groups-div").appendChild(t),i.a.render(r.a.createElement(N,{key:e._id,name:e.name,icon:e.icon,colorBg:e.colorBg,id:e._id,members:e.members,superusers:e.superusers}),document.querySelector(".new-group-"+e._id))},a.state={groups:[],showPopup:!1,axiosError:"",loading:!0},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;g.a.get("/api/me").then((function(t){if(200===t.status)return e=t.data,g.a.get("/api/groups");throw new Error("No user is logged in")})).then((function(a){var n=a.data;t.setState({groups:n.filter((function(t){return t.memberIDs.includes(e._id)})),loading:!1})})).catch((function(e){console.log(e),t.setState({axiosError:"Could not retreive data.",loading:!1})}))}},{key:"openPopup",value:function(){!1===this.state.showPopup&&this.setState({showPopup:!0})}},{key:"closePopup",value:function(){!0===this.state.showPopup&&this.setState({showPopup:!1})}},{key:"render",value:function(){var e=this.state,t=e.groups,a=e.axiosError,n=e.loading;return t=t.filter((function(e){return!1===e.deleted})),r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{user:"user"}),r.a.createElement("ul",{className:"group-ul"},n?r.a.createElement("div",{className:"loading-txt"}," Loading... "):null,"object"===typeof t&&t.length>0&&!a?t.map((function(e){return r.a.createElement(N,{key:e._id,name:e.name,icon:e.icon,colorBg:e.color,id:e._id,members:e.memberIDs,superusers:e.superusers})})):null,"object"!==typeof t||0!==t.length||a||n?null:r.a.createElement("div",{className:"loading-txt"},"You are not in any groups!"),a?r.a.createElement("div",{className:"loading-txt"},a):null,r.a.createElement("div",{className:"new-groups-div"}," "),r.a.createElement("div",{className:"group-div"},r.a.createElement("div",{className:"group-add-btn",onClick:this.openPopup.bind(this)},r.a.createElement("div",{className:"group-add-icon-container"},r.a.createElement("i",{className:"fa fa-plus"}),this.state.showPopup?r.a.createElement(O,{addGroup:this.createGroup,closePopup:this.closePopup.bind(this)}):null)))))}}]),t}(r.a.Component),S=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer-banner"},"Team 53, for CSC309 Fall 2019. Christopher Marcok, Lance Oribello, David Choi.")}}]),t}(r.a.Component),M=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.src="./script/canvas.js",e.async=!0,document.body.appendChild(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:"jumbotron"},r.a.createElement("canvas",{id:"canvas"})),r.a.createElement("div",{className:"above-jumbo"},r.a.createElement("h1",{className:"landing-main-txt"},r.a.createElement("span",{className:"main-header"}," DoleOut "))),r.a.createElement(S,null))}}]),t}(r.a.Component),I=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"login-hdr"},r.a.createElement("h1",null,r.a.createElement("span",{className:"login-span"}," ",this.props.title," "))))}}]),t}(r.a.Component),q=RegExp("^([a-zA-Z0-9 _-]+)$"),U=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",rePassword:"",users:[]},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"checkRegistered",value:function(e){return!1}},{key:"register",value:function(e){13!==e.keyCode&&"register-btn"!==e.target.className||(""===this.state.username?(alert("your username should have at least one character"),e.preventDefault()):q.test(this.state.username)?this.state.password.length<=3?(alert("your password should have more than 3 characters"),e.preventDefault()):this.state.password!==this.state.rePassword?(alert("the passwords don't match"),e.preventDefault()):this.checkRegistered(this.state.username)?(alert(this.state.username+" is already registered"),e.preventDefault()):console.log("Posting..."):(alert("your username should match /^([a-zA-Z0-9 _-]+)$/"),e.preventDefault()))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"login-inner"},r.a.createElement(I,{title:"Register"}),r.a.createElement("form",{className:"login-form",action:"/register",method:"post"},r.a.createElement("h3",null,"Username"),r.a.createElement("input",{id:"register-username",type:"text",required:!0,name:"username",placeholder:"Username",onChange:v.handleInputChange.bind(this),onKeyDown:function(t){return e.register(t)}}),r.a.createElement("h3",null,"Password"),r.a.createElement("input",{id:"register-password",type:"password",required:!0,name:"password",placeholder:"Password",onChange:v.handleInputChange.bind(this),onKeyDown:function(t){return e.register(t)}}),r.a.createElement("h3",null,"Confirm Password"),r.a.createElement("input",{id:"register-repassword",type:"password",required:!0,name:"rePassword",placeholder:"Password",onChange:v.handleInputChange.bind(this),onKeyDown:function(t){return e.register(t)}}),r.a.createElement("button",{className:"register-btn",type:"submit",onClick:function(t){e.register(t)}},"Register ",r.a.createElement("i",{className:"fa fa-user-plus"}))))))}}]),t}(r.a.Component),L=a(37),F=a(38),P=a(39),T={fetchGroups:function(){return F},fetchUsers:function(){return L},fetchGroupMsgs:function(){return P}},D=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",users:T.fetchUsers()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"login",value:function(e){13!==e.keyCode&&"login-btn"!==e.target.className||console.log("attempting to post...")}},{key:"getUserPassword",value:function(e){return this.state.users.filter((function(t){return t.username===e}))[0].password}},{key:"checkRegistered",value:function(e){return this.state.users.filter((function(t){return t.username===e})).length>0}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"login-inner"},r.a.createElement(I,{title:"Login"}),r.a.createElement("form",{className:"login-form",action:"/login",method:"post"},r.a.createElement("h3",null,"Username"),r.a.createElement("input",{id:"login-username",type:"text",name:"username",placeholder:"Username",onChange:v.handleInputChange.bind(this),onKeyDown:function(t){return e.login(t)}}),r.a.createElement("h3",null,"Password"),r.a.createElement("input",{id:"login-password",type:"password",name:"password",placeholder:"Password",onChange:v.handleInputChange.bind(this),onKeyDown:function(t){return e.login(t)}}),r.a.createElement("button",{className:"login-btn",type:"submit",onClick:function(t){return e.login(t)}},"Login ",r.a.createElement("i",{className:"fa fa-sign-in"}))))))}}]),t}(r.a.Component),A=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.querySelector(".expense-small-pic-id-"+this.props.msg.user.id+"-"+this.props.msg.id).style.backgroundImage="url('"+this.props.msg.user.picUrl+"')"}},{key:"render",value:function(){return r.a.createElement("div",{className:"expense-small expense-small-id-"+this.props.msg.id},r.a.createElement("div",{className:"expense-small-pic-and-title"},r.a.createElement("div",{className:"expense-small-pic expense-small-pic-id-"+this.props.msg.user.id+"-"+this.props.msg.id}),r.a.createElement("b",null,this.props.msg.expense.title)),r.a.createElement("p",null,"$",Number(this.props.msg.expense.remaining).toFixed(2)," remaining"))}}]),t}(r.a.Component),R=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.querySelector(".expense-pic-id-"+this.props.member.id+"-"+this.props.id).style.backgroundImage="url('"+this.props.member.picUrl+"')",document.querySelector(".expense-pic-cover-id-"+this.props.member.id+"-"+this.props.id).style.display=this.props.member.paid?"block":"none"}},{key:"redirect",value:function(){console.log(this.props.admin),this.props.admin?window.location="/u/"+this.props.member.id+"/admin":window.location="/u/"+this.props.member.id}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"expense-pic-small-container"},r.a.createElement("div",{className:"expense-pic-cover expense-pic-cover-id-"+this.props.member.id+"-"+this.props.id}),r.a.createElement("div",{className:"expense-pic-small expense-pic-id-"+this.props.member.id+"-"+this.props.id,onClick:function(){return e.redirect()}}))}}]),t}(r.a.Component),G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={currentUserId:1,currentlyPaying:!1,payAmount:"0.01",expenseRemaining:"expense"===a.props.msg.type?Number(a.props.msg.expense.remaining).toFixed(2):void 0,youOwe:void 0},a.toggleExpense=a.toggleExpense.bind(Object(b.a)(a)),a.handleInput=a.handleInput.bind(Object(b.a)(a)),a.deductPayment=a.deductPayment.bind(Object(b.a)(a)),a.delete=a.delete.bind(Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;(document.querySelector("#group-main-profile-pic-id-"+this.props.msg.id).style.backgroundImage="url('"+this.props.msg.user.picUrl+"')","expense"===this.props.msg.type)&&(this.setState({youOwe:Number(Number(this.props.msg.expense.cost)/this.props.msg.expense.members.length).toFixed(2)}),0!==this.props.msg.expense.members.filter((function(t){return t.id===e.state.currentUserId})).length&&this.props.msg.user.id!==this.state.currentUserId||(this.setState({youOwe:Number(0).toFixed(2)}),document.querySelector(".you-owe-container-id-"+this.props.msg.id).style.display="none",document.querySelector(".expense-pay-btn"+this.props.msg.id).style.display="none"));!1===this.props.admin&&(document.querySelector(".expense-delete-container-"+this.props.msg.id).style.display="none")}},{key:"redirect",value:function(){this.props.admin?window.location="/u/"+this.props.msg.user.id+"/admin":window.location="/u/"+this.props.msg.user.id}},{key:"toggleExpense",value:function(){this.state.currentlyPaying?(this.setState({currentlyPaying:!1}),document.querySelector(".expense-close-btn"+this.props.msg.id).style.display="none",document.querySelector(".expense-pay-btn"+this.props.msg.id).style.display="block",document.querySelector(".expense-payment-container"+this.props.msg.id).style.display="none"):(this.setState({currentlyPaying:!0}),document.querySelector(".expense-pay-btn"+this.props.msg.id).style.display="none",document.querySelector(".expense-close-btn"+this.props.msg.id).style.display="block",document.querySelector(".expense-payment-container"+this.props.msg.id).style.display="block")}},{key:"handleInput",value:function(){this.setState({payAmount:document.querySelector("#paymentInput"+this.props.msg.id).value})}},{key:"deductPayment",value:function(){if(Number(this.state.payAmount)<0)alert("Cannot pay a negative amount");else{var e=this.state.expenseRemaining-Number(this.state.payAmount),t=parseFloat(Math.round(100*e)/100).toFixed(2);if(t<.01){t=Number(0).toFixed(2);var a=document.querySelector(".expense-close-btn"+this.props.msg.id),n=document.querySelector(".expense-payment-container"+this.props.msg.id);a.style.display="none",n.style.display="none",this.props.hideExpense(this.props.msg.id),document.querySelector(".expense-cover-"+this.props.msg.id).style.display="block"}var r=Number(this.state.youOwe-Number(this.state.payAmount)).toFixed(2);r<0&&(r=Number(0).toFixed(2),alert("You paid more than required. The max amount has been paid instead.")),this.setState({expenseRemaining:t,youOwe:r}),r<.01&&(document.querySelector(".you-owe-txt-"+this.props.msg.id).style.color="#00C853",document.querySelector(".expense-pic-cover-id-"+this.state.currentUserId+"-"+this.props.msg.expense.id).style.display="block"),(0,this.props.update)(this.props.msg.id,t)}}},{key:"timeConverter",value:function(e){var t=new Date(1e3*e),a=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+n+" "+a+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}},{key:"delete",value:function(){document.querySelector(".msg-id-"+this.props.msg.id).style.display="none","expense"===this.props.msg.type&&(document.querySelector(".expense-small-id-"+this.props.msg.id).style.display="none")}},{key:"getMsg",value:function(){var e=this;return r.a.createElement("div",{className:"msg-id-"+this.props.msg.id},r.a.createElement("div",{className:"group-main-msg"},r.a.createElement("div",{className:"group-main-msg-profile-pic",id:"group-main-profile-pic-id-"+this.props.msg.id,onClick:function(){return e.redirect()}}),r.a.createElement("div",{className:"expense-delete-container expense-delete-container-"+this.props.msg.id,onClick:this.delete},r.a.createElement("i",{className:"fa fa-trash"})),r.a.createElement("div",{className:"group-main-msg-content"},r.a.createElement("strong",null,this.props.msg.user.username)," ",r.a.createElement("span",{className:"date-span"},this.timeConverter(this.props.msg.date))," ",r.a.createElement("br",null),this.props.msg.content)))}},{key:"getExpense",value:function(){var e=this;return r.a.createElement("div",{className:"msg-id-"+this.props.msg.id},r.a.createElement("div",{className:"group-expense-msg-container"},r.a.createElement("div",{className:"group-main-msg-profile-pic",id:"group-main-profile-pic-id-"+this.props.msg.id,onClick:function(){return e.redirect()}}),r.a.createElement("div",{className:"expense-delete-container expense-delete-container-"+this.props.msg.id,onClick:this.delete},r.a.createElement("i",{className:"fa fa-trash"})),r.a.createElement("b",null,this.props.msg.user.username)," created a new expense for $",this.props.msg.expense.cost,": ",r.a.createElement("span",{className:"date-span"},this.timeConverter(this.props.msg.date)),r.a.createElement("div",{className:"group-main-msg-content"},r.a.createElement("div",{className:"expense-container"},r.a.createElement("div",{className:"expense-cover expense-cover-"+this.props.msg.id}),r.a.createElement("div",{className:"expense-upper"},r.a.createElement("div",{className:"expense-upper-left"},r.a.createElement("h3",null,this.props.msg.expense.title),r.a.createElement("p",null,r.a.createElement("i",null,'"',this.props.msg.content,'"')),r.a.createElement("div",{className:"you-owe-container-id-"+this.props.msg.id},r.a.createElement("p",{className:"you-owe-title"},"You Owe:"),r.a.createElement("p",{className:"you-owe-txt you-owe-txt-"+this.props.msg.id},"$",this.state.youOwe))),r.a.createElement("div",{className:"expense-upper-right"},r.a.createElement("div",{className:"expense-total-remaining-title"},"Total Remaining:"),r.a.createElement("div",{className:"expense-remaining expense-remaining-"+this.props.msg.id},"$",this.state.expenseRemaining))),r.a.createElement("div",{className:"expense-lower"},r.a.createElement("div",{className:"expense-faces"},this.props.msg.expense.members.map((function(t){return r.a.createElement(R,{key:Object(x.a)(t),member:t,id:e.props.msg.expense.id,admin:e.props.admin})}))),r.a.createElement("div",{className:"expense-pay"},r.a.createElement("div",{className:"expense-pay-btn expense-pay-btn"+this.props.msg.id,onClick:this.toggleExpense},"PAY"),r.a.createElement("div",{className:"expense-close-btn expense-close-btn"+this.props.msg.id,onClick:this.toggleExpense},"CLOSE")))),r.a.createElement("div",{className:"expense-payment-container expense-payment-container"+this.props.msg.id},r.a.createElement("h3",null,"How much would you like to pay?"),r.a.createElement("input",{id:"paymentInput"+this.props.msg.id,type:"number",min:"0.01",max:String(this.props.msg.expense.remaining),step:"0.01",defaultValue:"0.01",onChange:this.handleInput}),r.a.createElement("i",{className:"fa fa-check",id:"expense-make-payment-btn",onClick:this.deductPayment})))))}},{key:"render",value:function(){return"msg"===this.props.msg.type?this.getMsg():"expense"===this.props.msg.type?this.getExpense():void 0}}]),t}(r.a.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).clickEvent=a.clickEvent.bind(Object(b.a)(a)),a.delete=a.delete.bind(Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.querySelector("#groupmember-pic-"+this.props.member.id).style.backgroundImage="url('"+this.props.member.picUrl+"')",!1===this.props.admin&&(document.querySelector(".groupmember-delete-"+this.props.member.id).style.display="none")}},{key:"clickEvent",value:function(e){e.target.classList.contains("groupmember-delete")||"fa fa-trash"===e.target.className||(!0===this.props.admin?window.location.href="/u/"+this.props.member.id+"/admin":window.location.href="/u/"+this.props.member.id)}},{key:"delete",value:function(){document.querySelector(".groupmember-id-"+this.props.member.id).style.display="none"}},{key:"render",value:function(){return r.a.createElement("div",{onClick:this.clickEvent},r.a.createElement("div",{className:"groupmember groupmember-id-"+this.props.member.id},r.a.createElement("div",{className:"groupmember-pic",id:"groupmember-pic-"+this.props.member.id}),r.a.createElement("h3",{className:"groupmember-name"},this.props.member.username),r.a.createElement("div",{className:"groupmember-delete groupmember-delete-"+this.props.member.id,onClick:this.delete},r.a.createElement("i",{className:"fa fa-trash"}))))}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).redirect=a.redirect.bind(Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"redirect",value:function(){!0===this.props.admin?window.location="/g/"+this.props.group.id+"/admin":window.location="/g/"+this.props.group.id}},{key:"render",value:function(){return r.a.createElement("div",{className:"other-group-container",onClick:this.redirect},this.props.group.name)}}]),t}(r.a.Component),V=(a(79),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={expenseTitle:"",expenseContent:"",expenseCost:"",expenseMembers:"",numMembers:1},a.createExpense=function(){if(""!==a.state.expenseTitle&&""!==a.state.expenseCost&&""!==a.state.expenseContent&&1!==a.getMembers().length)if(a.state.expenseCost<=0)alert("please enter a positive cost");else{var e={id:8,groupId:0,date:(new Date).getTime()/1e3,type:"expense",expense:{id:0,title:a.state.expenseTitle,cost:Number(a.state.expenseCost).toFixed(2),remaining:Number(a.state.expenseCost).toFixed(2)-a.state.expenseCost/a.getMembers().length,members:a.getMembers()},user:{id:1,username:"user",password:"123",picUrl:"https://api.adorable.io/avatars/200/1",email:"dummy@dummy.com",firstName:"Firstname",lastName:"McLastname",paypal:"https://www.paypal.me/chrismarcok",preference:"paypal",description:"send me money please thank u :)"},content:a.state.expenseContent};!0===a.props.admin&&(e.user.id=0,e.user.username="admin",e.user.picUrl="https://api.adorable.io/avatars/200/0"),e.id=Object(x.a)(e),e.expense.id=Object(x.a)(e),a.props.addExpense(e),a.props.closePopup()}else alert("one or more fields is missing!")},a.createNewMemberRow=a.createNewMemberRow.bind(Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getMembers",value:function(){var e=document.querySelectorAll(".group-member-input-field"),t=this.props.group.members,a=this.state.numMembers,n=[],r=[{id:1,username:"user",password:"123",picUrl:"https://api.adorable.io/avatars/200/1",email:"dummy@dummy.com",firstName:"Firstname",lastName:"McLastname",paypal:"https://www.paypal.me/chrismarcok",preference:"paypal",description:"send me money please thank u :)",paid:!0}];!0===this.props.admin&&(r[0].id=0,r[0].username="admin",r[0].picUrl="https://api.adorable.io/avatars/200/0");for(var s=function(a){var s=t.filter((function(t){return t.username===e[a].value}));if(0===s.length||n.includes(s[0].id))return"continue";r.push(s[0]),n.push(s[0].id)},i=0;i<a;i++)s(i);return r}},{key:"formatCost",value:function(){var e=document.querySelector("#expenseCostInput"),t=document.querySelector("#expenseCostInput").value;e.value=Number(t).toFixed(2),Number(t)<0&&(e.value=Number(0).toFixed(2))}},{key:"close",value:function(e,t){"popup"!==e.target.className&&"popup-close-btn"!==e.target.className||t()}},{key:"createNewMemberRow",value:function(){var e=document.createElement("div");e.className="new-member-expense-popup-id-"+this.state.numMembers,document.querySelector(".newGroupMemberRow-spawn-here").appendChild(e),i.a.render(r.a.createElement(w,{newRow:this.createNewMemberRow,num:this.state.numMembers+1,groupId:this.props.group.id}),document.querySelector(".new-member-expense-popup-id-"+this.state.numMembers)),this.setState({numMembers:this.state.numMembers+1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"popup",onPointerDown:function(t){return e.close(t,e.props.closePopup)}},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("h1",null,"New Expense"),r.a.createElement("form",{className:"new-expense-form"},r.a.createElement("h3",null,"Expense Title"),r.a.createElement("input",{className:"new-expense-form-input",id:"expenseTitleInput",type:"text",name:"expenseTitle",placeholder:"Title",onChange:v.handleInputChange.bind(this)}),r.a.createElement("h3",null,"Content"),r.a.createElement("input",{className:"new-expense-form-input",id:"expenseContentInput",type:"text",name:"expenseContent",placeholder:"A Message About Your Expense",onChange:v.handleInputChange.bind(this)}),r.a.createElement("h3",null,"Cost"),r.a.createElement("input",{className:"new-expense-form-input",id:"expenseCostInput",type:"number",name:"expenseCost",placeholder:"Ex. '9.99'",min:"0",onChange:v.handleInputChange.bind(this),onBlur:this.formatCost}),r.a.createElement("h3",null,"Members"),r.a.createElement(w,{num:1,newRow:this.createNewMemberRow,groupId:this.props.group.id}),r.a.createElement("div",{className:"newGroupMemberRow-spawn-here"})),r.a.createElement("div",{className:"popup-btn-container"},r.a.createElement("button",{className:"popup-create-btn",onClick:function(){return e.createExpense()}}," Create Expense "),r.a.createElement("button",{className:"popup-close-btn",onClick:function(t){return e.close(t,e.props.closePopup)}}," Close"))))}}]),t}(r.a.Component)),J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).createExpense=function(e){var t=document.createElement("div");t.id=e.id,document.querySelector(".group-main-content").appendChild(t),i.a.render(r.a.createElement(G,{msg:e,key:e.id,update:a.updateSmallExpense,hideExpense:a.hideSmallExpense,admin:!0}),document.querySelector("#"+e.id)),a.scrollToBottomOfChat();var n=r.a.createElement("div",{key:Object(x.a)(e),onClick:function(t){return a.scrollToExpense(t,e)}},r.a.createElement(A,{msg:e})),s=document.createElement("div");s.className=Object(x.a)(e),document.querySelector(".group-col-other-ul").appendChild(s),i.a.render(n,document.querySelector("."+Object(x.a)(e)))},a.state={groupInput:"",showPopup:!1,groupMemberAddInput:"",addingMember:!1},a.getInput=a.getInput.bind(Object(b.a)(a)),a.addMember=a.addMember.bind(Object(b.a)(a)),a.toggleAddUser=a.toggleAddUser.bind(Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.getGroup()&&this.scrollToBottomOfChat()}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"scrollToBottomOfChat",value:function(){var e=document.querySelector(".group-main-content");e.scrollTop=e.scrollHeight}},{key:"getGroup",value:function(){var e=this.props.match.params.group_number;return T.fetchGroups().filter((function(t){return t.id===parseInt(e)}))[0]}},{key:"getInput",value:function(e){var t=this.state.groupInput;if((13===e.keyCode||e.target===document.querySelector(".group-main-send-btn")||e.target===document.querySelector(".fa-paper-plane"))&&""!==t){var a={id:123,groupId:this.getGroup().id,date:(new Date).getTime()/1e3,type:"msg",user:{id:0,username:"admin",password:"admin",picUrl:"https://api.adorable.io/avatars/200/0",email:"dummy@dummy.com",firstName:"Firstname",lastName:"McLastname"},content:t};a.id=Object(x.a)(a);var n=document.createElement("div");n.id=a.id,document.querySelector(".group-main-content").appendChild(n),i.a.render(r.a.createElement(G,{msg:a,key:a.id,admin:!0}),document.querySelector("#"+a.id)),document.querySelector("#group-input").value="",this.setState({groupInput:""}),this.scrollToBottomOfChat()}}},{key:"addMember",value:function(e){var t=this;if("group-add-member-accept-btn"===e.target.id||13===e.keyCode){var a=T.fetchUsers().filter((function(e){return e.username===t.state.groupMemberAddInput}));if(0===a.length)return void alert("no user by that username");if(0!==this.getGroup().members.filter((function(e){return e.username===t.state.groupMemberAddInput})).length)return void alert("that user is already in this group!");var n=document.createElement("div"),s=String(Object(x.a)(a[0]));n.className=s,document.querySelector(".group-generated-members").appendChild(n),i.a.render(r.a.createElement(_,{member:a[0],admin:!0}),document.querySelector("."+s)),document.querySelector("#group-add-member-input").value=""}}},{key:"toggleAddUser",value:function(){var e=document.querySelector(".group-add-member-input-container"),t=document.querySelector(".group-add-member-container");this.state.addingMember?(e.style.display="none",t.style.display="block"):(e.style.display="block",t.style.display="none"),this.setState({addingMember:!this.state.addingMember})}},{key:"scrollToExpense",value:function(e,t){document.querySelector("#group-main-profile-pic-id-"+t.id).scrollIntoView()}},{key:"updateSmallExpense",value:function(e,t){document.querySelector(".expense-small-id-"+e+" p").innerText="$".concat(t," remaining")}},{key:"hideSmallExpense",value:function(e){document.querySelector(".expense-small-id-"+e).style.display="none"}},{key:"render",value:function(){var e=this,t=this.getGroup(),a=T.fetchGroups(),n=T.fetchGroupMsgs();return void 0===t?r.a.createElement(d.a,{to:"/404"}):r.a.createElement("div",null,r.a.createElement(y,{user:"admin"}),r.a.createElement("div",{className:"group-container"},r.a.createElement("div",{className:"group-col group-members-col"},r.a.createElement("div",{className:"group-members-div"},r.a.createElement("div",{className:"group-generated-members"},t.members.map((function(e){return r.a.createElement(_,{member:e,key:Object(x.a)(e),admin:!0})}))),r.a.createElement("div",{className:"group-add-member-container"},r.a.createElement("div",{className:"group-add-member-inner",onClick:this.toggleAddUser},r.a.createElement("div",{className:"group-add-member-btn"},r.a.createElement("i",{className:"fa fa-plus"})))),r.a.createElement("div",{className:"group-add-member-input-container"},r.a.createElement("input",{id:"group-add-member-input",type:"text",name:"groupMemberAddInput",placeholder:"Enter Username",onChange:v.handleInputChange.bind(this),maxLength:"150",onKeyDown:this.addMember}),r.a.createElement("i",{className:"fa fa-check",id:"group-add-member-accept-btn",onClick:this.addMember}),r.a.createElement("div",{className:"group-add-member-cancel-btn",onClick:this.toggleAddUser}," Cancel ")))),r.a.createElement("div",{className:"group-col group-main-col"},r.a.createElement("div",null,r.a.createElement("div",{className:"group-title"},t.name),r.a.createElement("div",{className:"group-main-add-btn"},r.a.createElement("button",{onClick:this.togglePopup.bind(this)}," ",r.a.createElement("i",{className:"fa fa-plus"})," New Expense"),this.state.showPopup?r.a.createElement(V,{addExpense:this.createExpense,closePopup:this.togglePopup.bind(this),group:t,admin:!0}):null)),r.a.createElement("div",{className:"group-main-content"},n.filter((function(e){return e.groupId===t.id})).map((function(t){return r.a.createElement(G,{msg:t,key:Object(x.a)(t),update:e.updateSmallExpense,hideExpense:e.hideSmallExpense,admin:!0})}))),r.a.createElement("div",{className:"group-input-container"},r.a.createElement("input",{id:"group-input",type:"text",name:"groupInput",placeholder:"Type something...",onChange:v.handleInputChange.bind(this),maxLength:"150",onKeyDown:this.getInput}),r.a.createElement("div",{className:"group-main-send-btn",onClick:this.getInput},r.a.createElement("i",{className:"fa fa-paper-plane"})))),r.a.createElement("div",{className:"group-col group-other-col"},r.a.createElement("div",{className:"other-title-expenses"},r.a.createElement("div",{className:"other-title"},r.a.createElement("h3",null,"Current Expenses")),r.a.createElement("ul",{className:"group-col-other-ul"},n.filter((function(e){return e.groupId===t.id&&"expense"===e.type})).map((function(t){return r.a.createElement("div",{key:Object(x.a)(t),onClick:function(a){return e.scrollToExpense(a,t)}},r.a.createElement(A,{msg:t}))})))),r.a.createElement("div",{className:"other-title"},r.a.createElement("h3",null,"Other Groups")),r.a.createElement("ul",{className:"group-col-other-ul"},a.filter((function(e){return e.id!==t.id})).map((function(e){return r.a.createElement(B,{group:e,key:Object(x.a)(e),admin:!0})}))))))}}]),t}(r.a.Component),H=(a(85),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggleEdit=function(){a.state.editing?(a.setState({editing:!1}),document.querySelector("#profile-pic-"+a.state.id).style.backgroundImage="url('"+a.state.avatar+"')",a.patch()):a.setState({editing:!0})},a.state={id:a.getUserNum(),displayName:"",firstname:"",lastname:"",avatar:"",description:"",email:"",pref:"",paypal:"",editing:!1},a.toggleEdit=a.toggleEdit.bind(Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.getUserNum();g.a.get("/api/u/"+t).then((function(t){if(200===t.status){var a=t.data;e.setState({firstname:a.firstName,lastname:a.lastName,avatar:a.avatarURL,description:a.description,email:a.email,pref:a.preference,paypal:a.paypalURL,displayName:a.displayName}),document.querySelector("#profile-pic-"+e.state.id).style.backgroundImage="url('"+e.state.avatar+"')"}else e.props.history.push("/404")})).catch((function(t){e.props.history.push("/404")})),g.a.get("/api/me").then((function(e){(e.data._id===t||e.data.isAdmin)&&(document.querySelector(".profile-edit-btn").style.display="block")})).catch((function(e){console.log(e)}))}},{key:"patch",value:function(){g.a.patch("/u/".concat(this.state.id),JSON.stringify(this.state),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){console.log(e)})).catch((function(e){console.log("Failed to patch: ".concat(e))}))}},{key:"getUserNum",value:function(){return this.props.match.params.user_number}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y,null),this.state.editing?r.a.createElement("div",{className:"profile-btn profile-save-btn",onClick:this.toggleEdit},"Save ",r.a.createElement("i",{className:"fa fa-check"})):r.a.createElement("div",{className:"profile-btn profile-edit-btn",onClick:this.toggleEdit},"Edit ",r.a.createElement("i",{className:"fa fa-pencil"})),r.a.createElement("div",{className:"profile-container"},r.a.createElement("div",{className:"profile-pic-and-name"},r.a.createElement("div",{className:"profile-pic",id:"profile-pic-"+this.state.id}),r.a.createElement("div",{className:"profile-name-container"},r.a.createElement("h1",null,this.state.displayName," ",r.a.createElement("a",{href:"https://www."+this.state.paypal,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fa fa-cc-paypal"}))),this.state.firstname," ",this.state.lastname),r.a.createElement("div",{className:"profile-desc"},r.a.createElement("b",null,"Description"),r.a.createElement("p",null,this.state.description),r.a.createElement("br",null),r.a.createElement("b",null,"Preferred Payment Method"),r.a.createElement("p",null,this.state.pref))),r.a.createElement("div",{className:"profile-info-container"},r.a.createElement("h3",null,"Email"),r.a.createElement("p",null,this.state.email)),this.state.editing?r.a.createElement("div",{className:"profile-edit-container"},r.a.createElement("form",{id:"profile-edit-form"},r.a.createElement("p",null,"First Name"),r.a.createElement("input",{type:"text",name:"firstname",onChange:v.handleInputChange.bind(this),defaultValue:this.state.firstname}),r.a.createElement("p",null,"Last Name"),r.a.createElement("input",{type:"text",name:"lastname",onChange:v.handleInputChange.bind(this),defaultValue:this.state.lastname}),r.a.createElement("p",null,"Avatar URL"),r.a.createElement("input",{type:"text",name:"avatar",onChange:v.handleInputChange.bind(this),defaultValue:this.state.avatar}),r.a.createElement("p",null,"Description"),r.a.createElement("input",{type:"text",name:"description",onChange:v.handleInputChange.bind(this),defaultValue:this.state.description}),r.a.createElement("p",null,"Preferred Payment Method"),r.a.createElement("input",{type:"text",name:"pref",onChange:v.handleInputChange.bind(this),defaultValue:this.state.pref}),r.a.createElement("p",null,"Email"),r.a.createElement("input",{type:"text",name:"email",onChange:v.handleInputChange.bind(this),defaultValue:this.state.email}),r.a.createElement("p",null,"PayPal URL"),r.a.createElement("input",{type:"text",name:"paypal",onChange:v.handleInputChange.bind(this),defaultValue:this.state.paypal}))):null))}}]),t}(r.a.Component)),K=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"no-match"},r.a.createElement("h3",null,"Error 404"),r.a.createElement("a",{href:"http://niceme.me/",id:"emoji-404"},r.a.createElement("span",{role:"img","aria-label":"clap"},"click\ud83d\udc4fto\ud83d\udc4fgo\ud83d\udc4fto\ud83d\udc4fnicememe.com\ud83d\udc4f")))}}]),t}(r.a.Component),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).createExpense=function(e){var t=document.createElement("div");t.id=e.id,document.querySelector(".group-main-content").appendChild(t),i.a.render(r.a.createElement(G,{msg:e,key:e.id,update:a.updateSmallExpense,admin:!1,hideExpense:a.hideSmallExpense}),document.querySelector("#"+e.id)),a.scrollToBottomOfChat();var n=r.a.createElement("div",{key:Object(x.a)(e),onClick:function(t){return a.scrollToExpense(t,e)}},r.a.createElement(A,{msg:e})),s=document.createElement("div");s.className=Object(x.a)(e),document.querySelector(".group-col-other-ul").appendChild(s),i.a.render(n,document.querySelector("."+Object(x.a)(e)))},a.state={groupInput:"",showPopup:!1,groupMemberAddInput:"",addingMember:!1},a.getInput=a.getInput.bind(Object(b.a)(a)),a.addMember=a.addMember.bind(Object(b.a)(a)),a.toggleAddUser=a.toggleAddUser.bind(Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.getGroup()&&this.scrollToBottomOfChat()}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"scrollToBottomOfChat",value:function(){var e=document.querySelector(".group-main-content");e.scrollTop=e.scrollHeight}},{key:"getGroup",value:function(){var e=this.props.match.params.group_number;return T.fetchGroups().filter((function(t){return t.id===parseInt(e)}))[0]}},{key:"getInput",value:function(e){var t=this.state.groupInput;if((13===e.keyCode||e.target===document.querySelector(".group-main-send-btn")||e.target===document.querySelector(".fa-paper-plane"))&&""!==t){var a={id:123,groupId:this.getGroup().id,date:(new Date).getTime()/1e3,type:"msg",user:{id:1,username:"user",password:"user",picUrl:"https://api.adorable.io/avatars/200/1",email:"dummy@dummy.com",firstName:"Firstname",lastName:"McLastname"},content:t};a.id=Object(x.a)(a);var n=document.createElement("div");n.id=a.id,document.querySelector(".group-main-content").appendChild(n),i.a.render(r.a.createElement(G,{msg:a,key:a.id,admin:!1}),document.querySelector("#"+a.id)),document.querySelector("#group-input").value="",this.setState({groupInput:""}),this.scrollToBottomOfChat()}}},{key:"addMember",value:function(e){var t=this;if("group-add-member-accept-btn"===e.target.id||13===e.keyCode){var a=T.fetchUsers().filter((function(e){return e.username===t.state.groupMemberAddInput}));if(0===a.length)return void alert("no user by that username");if(0!==this.getGroup().members.filter((function(e){return e.username===t.state.groupMemberAddInput})).length)return void alert("that user is already in this group!");var n=document.createElement("div"),s=String(Object(x.a)(a[0]));n.className=s,document.querySelector(".group-generated-members").appendChild(n),i.a.render(r.a.createElement(_,{member:a[0],admin:!1}),document.querySelector("."+s)),document.querySelector("#group-add-member-input").value=""}}},{key:"toggleAddUser",value:function(){var e=document.querySelector(".group-add-member-input-container"),t=document.querySelector(".group-add-member-container");this.state.addingMember?(e.style.display="none",t.style.display="block"):(e.style.display="block",t.style.display="none"),this.setState({addingMember:!this.state.addingMember})}},{key:"scrollToExpense",value:function(e,t){document.querySelector("#group-main-profile-pic-id-"+t.id).scrollIntoView()}},{key:"updateSmallExpense",value:function(e,t){document.querySelector(".expense-small-id-"+e+" p").innerText="$".concat(t," remaining")}},{key:"hideSmallExpense",value:function(e){document.querySelector(".expense-small-id-"+e).style.display="none"}},{key:"render",value:function(){var e=this,t=this.getGroup(),a=T.fetchGroups(),n=T.fetchGroupMsgs();return void 0===t?r.a.createElement(d.a,{to:"/404"}):r.a.createElement("div",null,r.a.createElement(y,{user:"user"}),r.a.createElement("div",{className:"group-container"},r.a.createElement("div",{className:"group-col group-members-col"},r.a.createElement("div",{className:"group-members-div"},r.a.createElement("div",{className:"group-generated-members"},t.members.map((function(e){return r.a.createElement(_,{member:e,key:Object(x.a)(e),admin:!1})}))),r.a.createElement("div",{className:"group-add-member-container"},r.a.createElement("div",{className:"group-add-member-inner",onClick:this.toggleAddUser},r.a.createElement("div",{className:"group-add-member-btn"},r.a.createElement("i",{className:"fa fa-plus"})))),r.a.createElement("div",{className:"group-add-member-input-container"},r.a.createElement("input",{id:"group-add-member-input",type:"text",name:"groupMemberAddInput",placeholder:"Enter Username",onChange:v.handleInputChange.bind(this),maxLength:"150",onKeyDown:this.addMember}),r.a.createElement("i",{className:"fa fa-check",id:"group-add-member-accept-btn",onClick:this.addMember}),r.a.createElement("div",{className:"group-add-member-cancel-btn",onClick:this.toggleAddUser}," Cancel ")))),r.a.createElement("div",{className:"group-col group-main-col"},r.a.createElement("div",null,r.a.createElement("div",{className:"group-title"},t.name),r.a.createElement("div",{className:"group-main-add-btn"},r.a.createElement("button",{onClick:this.togglePopup.bind(this)}," ",r.a.createElement("i",{className:"fa fa-plus"})," New Expense"),this.state.showPopup?r.a.createElement(V,{addExpense:this.createExpense,closePopup:this.togglePopup.bind(this),group:t}):null)),r.a.createElement("div",{className:"group-main-content"},n.filter((function(e){return e.groupId===t.id})).map((function(t){return r.a.createElement(G,{msg:t,key:Object(x.a)(t),update:e.updateSmallExpense,hideExpense:e.hideSmallExpense,admin:!1})}))),r.a.createElement("div",{className:"group-input-container"},r.a.createElement("input",{id:"group-input",type:"text",name:"groupInput",placeholder:"Type something...",onChange:v.handleInputChange.bind(this),maxLength:"150",onKeyDown:this.getInput}),r.a.createElement("div",{className:"group-main-send-btn",onClick:this.getInput},r.a.createElement("i",{className:"fa fa-paper-plane"})))),r.a.createElement("div",{className:"group-col group-other-col"},r.a.createElement("div",{className:"other-title-expenses"},r.a.createElement("div",{className:"other-title"},r.a.createElement("h3",null,"Current Expenses")),r.a.createElement("ul",{className:"group-col-other-ul"},n.filter((function(e){return e.groupId===t.id&&"expense"===e.type})).map((function(t){return r.a.createElement("div",{key:Object(x.a)(t),onClick:function(a){return e.scrollToExpense(a,t)}},r.a.createElement(A,{msg:t}))})))),r.a.createElement("div",{className:"other-title"},r.a.createElement("h3",null,"Other Groups")),r.a.createElement("ul",{className:"group-col-other-ul"},a.filter((function(e){return e.id!==t.id})).map((function(e){return r.a.createElement(B,{group:e,key:Object(x.a)(e)})}))))))}}]),t}(r.a.Component),Y=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(u.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:M}),r.a.createElement(d.b,{exact:!0,path:"/groups",component:j}),r.a.createElement(d.b,{exact:!0,path:"/login",component:D}),r.a.createElement(d.b,{exact:!0,path:"/register",component:U}),r.a.createElement(d.b,{exact:!0,path:"/g/:group_number",component:$}),r.a.createElement(d.b,{exact:!0,path:"/u/:user_number",component:H}),r.a.createElement(d.b,{exact:!0,path:"/g/:group_number/admin",component:J}),r.a.createElement(d.b,{component:K}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.50b64c73.chunk.js.map